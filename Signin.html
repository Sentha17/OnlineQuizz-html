<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
<title>SIGN IN</title>
</head>
<body>   
<form>
    <br/>
	<center>
        <br/><br/><br/>
        <h1> <center> Sign In Page</h1>
        <br/>
        <input type="number" max="3" name="registerNumber" id="regno" placeholder="Enter Register Number"required autofocus><br/>
        <br/>
        <input type="password" name="password" id="dob" placeholder="Welcome@123"required autofocus><br/>
        <br/>
        <button type="submit" class="btn btn-primary" onclick="signin()">Sign In</button>
        <button type="reset" class="btn btn-primary">Reset</button>
        <br/><br/>
        <label for="changepassword">Change Password? </label> 
        <button type="button" class="btn btn-primary" onclick="change()">Change Password</button>
        <br><br>
        <label for="validation" id="loginValidation" style="color:red;"></label>
        <br/>
        <label for="changepassword">-------------------------------------------------</label> 
        <br/>
        <label for="changepassword">New User? </label> 
        <button type="button" class="btn btn-primary" onclick="signup()">Sign Up</button>
    </center>
</form>
<script>
    function signin()
    {
        event.preventDefault();
        let regNumber=document.querySelector("#regno").value;                  
        let dateOfBirth=document.querySelector("#dob").value;
        let registerNumberArray = ["001","002","003","004","005"];
        let dobArray=["Welcome@123","Welcome@123","Welcome@123","Welcome@123","Welcome@123"];
        localStorage.setItem("user",regNumber);
        localStorage.setItem("reg",JSON.stringify(registerNumberArray));
        localStorage.setItem("dob",JSON.stringify(dobArray));
        let newPasswordArray=localStorage.getItem("newpass");
        dobArray=JSON.parse(newPasswordArray);
        let newRegisterNumberArray=localStorage.getItem("newnumber");
        registerNumberArray=JSON.parse(newRegisterNumberArray);
        //Validation
        if(registerNumberArray.includes(regNumber) && dobArray.includes(dateOfBirth))
		{
			if(registerNumberArray.indexOf(regNumber)==dobArray.indexOf(dateOfBirth))
			{
                window.location.href="ListOfSubjects.html";
			}	
            else
            {
                document.getElementById("loginValidation").innerHTML="----Invalid Password----";
            }	
		}
        else if(regNumber=="" || dateOfBirth=="")
        {
            document.getElementById("loginValidation").innerHTML="----Please Enter the Details----";
        }
		else
		{
			document.getElementById("loginValidation").innerHTML="----Invalid Login Credentials----";
		}
    }
    function change()
    {
        event.preventDefault();
        window.location.href="ChangePassword.html";

    }
    function signup()
    {
        event.preventDefault();
        window.location.href="Signup.html";

    }

</script>
</body>
</html>